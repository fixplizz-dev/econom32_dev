# üê≥ –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ

## üöÄ –ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ã–π!** –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `./data/` –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—É—Ç–µ–π
- ‚úÖ **–õ–µ–≥–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –ø–∞–ø–∫—É –∏ –∑–∞–ø—É—Å—Ç–∏–ª
- ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞—Ä—Ö–∏–≤–∏—Ä—É–π –æ–¥–Ω—É –ø–∞–ø–∫—É
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑ –ø—Ä–æ–±–ª–µ–º** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–π —Å–∏—Å—Ç–µ–º–µ —Å Docker

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```
./data/
‚îú‚îÄ‚îÄ postgres/     # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
‚îú‚îÄ‚îÄ redis/        # –ö—ç—à –∏ —Å–µ—Å—Å–∏–∏ Redis
‚îú‚îÄ‚îÄ minio/        # –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ MinIO
‚îú‚îÄ‚îÄ clamav/       # –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—ã–µ –±–∞–∑—ã ClamAV
‚îú‚îÄ‚îÄ prometheus/   # –ú–µ—Ç—Ä–∏–∫–∏ Prometheus
‚îî‚îÄ‚îÄ grafana/      # –î–∞—à–±–æ—Ä–¥—ã Grafana
```

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å 8 –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫—É—é —Ä–æ–ª—å –≤ –æ–±—â–µ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ —Å–∞–π—Ç–∞ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞.

```mermaid
graph TB
    subgraph "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"
        U1[–ì—Ä–∞–∂–¥–∞–Ω–µ]
        U2[–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã]
    end

    subgraph "–í–µ–±-—Å–ª–æ–π"
        NGINX[Nginx<br/>Reverse Proxy<br/>:80, :443]
    end

    subgraph "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
        FRONTEND[Next.js Frontend<br/>:3001]
        BACKEND[Express.js API<br/>:3002]
        ADMIN[Adminer<br/>:8080]
    end

    subgraph "–î–∞–Ω–Ω—ã–µ"
        POSTGRES[(PostgreSQL<br/>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö<br/>:5432)]
        REDIS[(Redis<br/>–ö—ç—à –∏ —Å–µ—Å—Å–∏–∏<br/>:6379)]
        MINIO[(MinIO<br/>–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ<br/>:9000, :9001)]
    end

    subgraph "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
        CLAMAV[ClamAV<br/>–ê–Ω—Ç–∏–≤–∏—Ä—É—Å<br/>:3310]
    end

    subgraph "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
        PROMETHEUS[Prometheus<br/>–ú–µ—Ç—Ä–∏–∫–∏<br/>:9090]
        GRAFANA[Grafana<br/>–î–∞—à–±–æ—Ä–¥—ã<br/>:3000]
    end

    U1 --> NGINX
    U2 --> NGINX
    NGINX --> FRONTEND
    NGINX --> BACKEND
    FRONTEND --> BACKEND
    BACKEND --> POSTGRES
    BACKEND --> REDIS
    BACKEND --> MINIO
    BACKEND --> CLAMAV
    ADMIN --> POSTGRES
    PROMETHEUS --> BACKEND
    PROMETHEUS --> POSTGRES
    PROMETHEUS --> REDIS
    GRAFANA --> PROMETHEUS
```

## üìã –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

### 1. üóÑÔ∏è PostgreSQL - –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞

**–û–±—Ä–∞–∑**: `postgres:15-alpine`
**–ü–æ—Ä—Ç—ã**: `5432:5432`
**–†–µ—Å—É—Ä—Å—ã**: ~200MB RAM, 1-5GB –¥–∏—Å–∫

#### –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç:
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã, —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã, –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã
- **–ö–æ–Ω—Ç–µ–Ω—Ç** - –Ω–æ–≤–æ—Å—Ç–∏, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞** - –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –∫–æ–Ω—Ç–∞–∫—Ç—ã
- **–û–±—Ä–∞—â–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω** - –∑–∞—è–≤–∫–∏, —Å—Ç–∞—Ç—É—Å—ã, –æ—Ç–≤–µ—Ç—ã
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ª–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```yaml
environment:
  POSTGRES_DB: econom32_new          # –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  POSTGRES_USER: econom32_user       # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î
  POSTGRES_PASSWORD: econom32_password # –ü–∞—Ä–æ–ª—å (–ò–ó–ú–ï–ù–ò–¢–¨ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!)
  POSTGRES_INITDB_ARGS: "--encoding=UTF-8 --locale=C" # –ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8
```

#### Volumes:
- `postgres_data:/var/lib/postgresql/data` - –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `./docker/postgres/init:/docker-entrypoint-initdb.d` - –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û**: –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û**: –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

---

### 2. üöÄ Redis - –ö—ç—à –∏ —Å–µ—Å—Å–∏–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π

**–û–±—Ä–∞–∑**: `redis:7-alpine`
**–ü–æ—Ä—Ç—ã**: `6379:6379`
**–†–µ—Å—É—Ä—Å—ã**: ~50MB RAM, 100MB –¥–∏—Å–∫

#### –ß—Ç–æ –∫—ç—à–∏—Ä—É–µ—Ç:
- **API –æ—Ç–≤–µ—Ç—ã** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–°–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - JWT —Ç–æ–∫–µ–Ω—ã, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
- **–°—á–µ—Ç—á–∏–∫–∏** - –ø—Ä–æ—Å–º–æ—Ç—Ä—ã –Ω–æ–≤–æ—Å—Ç–µ–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –∫–∞–ø—á–∞, –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```yaml
command: redis-server --appendonly yes  # –í–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
volumes:
  - redis_data:/data                     # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
```

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–°–∫–æ—Ä–æ—Å—Ç—å**: –í 10-100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ —á–µ–º PostgreSQL –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å Redis Cluster –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: AOF –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö

---

### 3. üíæ MinIO - –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –≤—Å–µ—Ö –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

**–û–±—Ä–∞–∑**: `minio/minio:latest`
**–ü–æ—Ä—Ç—ã**: `9000:9000` (API), `9001:9001` (Web UI)
**–†–µ—Å—É—Ä—Å—ã**: ~100MB RAM, –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–∏—Å–∫

#### –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç:
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –±–∞–Ω–Ω–µ—Ä—ã
- **–î–æ–∫—É–º–µ–Ω—Ç—ã** - PDF, DOC, XLS —Ñ–∞–π–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- **–ú–µ–¥–∏–∞** - –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
- **–ê–≤–∞—Ç–∞—Ä—ã** - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏** - –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```yaml
environment:
  MINIO_ROOT_USER: econom32_minio           # –õ–æ–≥–∏–Ω (–ò–ó–ú–ï–ù–ò–¢–¨!)
  MINIO_ROOT_PASSWORD: econom32_minio_password # –ü–∞—Ä–æ–ª—å (–ò–ó–ú–ï–ù–ò–¢–¨!)
command: server /data --console-address ":9001"
```

#### Buckets (–∫–æ—Ä–∑–∏–Ω—ã):
- `public` - –ü—É–±–ª–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π)
- `private` - –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã (–¥–æ–∫—É–º–µ–Ω—Ç—ã –æ–±—Ä–∞—â–µ–Ω–∏–π)
- `backups` - –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
- `temp` - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **S3 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ AWS/Yandex Cloud
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏

---

### 4. üõ°Ô∏è ClamAV - –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–∞—è –∑–∞—â–∏—Ç–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ –≤–∏—Ä—É—Å—ã

**–û–±—Ä–∞–∑**: `clamav/clamav:latest`
**–ü–æ—Ä—Ç—ã**: `3310:3310`
**–†–µ—Å—É—Ä—Å—ã**: ~500MB RAM, 2GB –¥–∏—Å–∫ (–±–∞–∑–∞ –≤–∏—Ä—É—Å–æ–≤)

#### –§—É–Ω–∫—Ü–∏–∏:
- **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—ã—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä
- **–ö–∞—Ä–∞–Ω—Ç–∏–Ω** - –∏–∑–æ–ª—è—Ü–∏—è –∑–∞—Ä–∞–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```yaml
environment:
  CLAMAV_NO_FRESHCLAMD: "false"  # –í–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑
volumes:
  - clamav_data:/var/lib/clamav   # –•—Ä–∞–Ω–µ–Ω–∏–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—ã—Ö –±–∞–∑
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- Backend API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
- –ó–∞—Ä–∞–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —É–≥—Ä–æ–∑–∞—Ö

#### ‚ö†Ô∏è –í–∞–∂–Ω–æ:
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 10-15 –º–∏–Ω—É—Ç (–∑–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑)
- –¢—Ä–µ–±—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å RAM –¥–æ 1GB

---

### 5. üåê Nginx - –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ–∫—Å–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏, SSL —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è

**–û–±—Ä–∞–∑**: `nginx:alpine`
**–ü–æ—Ä—Ç—ã**: `80:80` (HTTP), `443:443` (HTTPS)
**–†–µ—Å—É—Ä—Å—ã**: ~20MB RAM, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–∏—Å–∫

#### –§—É–Ω–∫—Ü–∏–∏:
- **Reverse Proxy** - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ backend/frontend
- **SSL —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã** - –±—ã—Å—Ç—Ä–∞—è –æ—Ç–¥–∞—á–∞ CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∫—ç—à —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–°–∂–∞—Ç–∏–µ** - Gzip/Brotli –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```yaml
volumes:
  - ./docker/nginx/nginx.conf:/etc/nginx/nginx.conf:ro
  - ./docker/nginx/conf.d:/etc/nginx/conf.d:ro
  - ./docker/ssl:/etc/nginx/ssl:ro
```

#### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:
- `/` ‚Üí Frontend (Next.js)
- `/api/` ‚Üí Backend (Express.js)
- `/admin/` ‚Üí Admin Panel
- `/files/` ‚Üí MinIO (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)

#### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è HTTPS
- WAF –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∞—Ç–∞–∫
- Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç DDoS

---

### 6. üîç Adminer - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è PostgreSQL

**–û–±—Ä–∞–∑**: `adminer:latest`
**–ü–æ—Ä—Ç—ã**: `8080:8080`
**–†–µ—Å—É—Ä—Å—ã**: ~30MB RAM, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–∏—Å–∫

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö** - —Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã, —Å–≤—è–∑–∏
- **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL** - –∑–∞–ø—Ä–æ—Å—ã, —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
- **–ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç** - —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –î–æ—Å—Ç—É–ø:
- URL: http://localhost:8080
- –°–µ—Ä–≤–µ—Ä: `postgres`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `econom32_user`
- –ü–∞—Ä–æ–ª—å: `econom32_password`

#### ‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- **–ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ** –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è VPN –¥–æ—Å—Ç—É–ø –∏–ª–∏ IP –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: pgAdmin4 —Å –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é

---

### 7. üìä Prometheus - –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

**–û–±—Ä–∞–∑**: `prom/prometheus:latest`
**–ü–æ—Ä—Ç—ã**: `9090:9090`
**–†–µ—Å—É—Ä—Å—ã**: ~100MB RAM, 1-10GB –¥–∏—Å–∫ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç retention)

#### –ú–µ—Ç—Ä–∏–∫–∏:
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ** - CPU, RAM, –¥–∏—Å–∫, —Å–µ—Ç—å
- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API, –æ—à–∏–±–∫–∏, throughput
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ—É–¥–∞—á–Ω—ã–µ –≤—Ö–æ–¥—ã, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IP
- **–ë–∏–∑–Ω–µ—Å** - –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏, –æ–±—Ä–∞—â–µ–Ω–∏—è, –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```yaml
volumes:
  - ./docker/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml:ro
  - prometheus_data:/prometheus
```

#### Targets (—Ü–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞):
- Backend API: `http://backend:3002/metrics`
- PostgreSQL: —á–µ—Ä–µ–∑ postgres_exporter
- Redis: —á–µ—Ä–µ–∑ redis_exporter
- Node.js: —á–µ—Ä–µ–∑ node_exporter

---

### 8. üìà Grafana - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–∞—à–±–æ—Ä–¥—ã –∏ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö Prometheus

**–û–±—Ä–∞–∑**: `grafana/grafana:latest`
**–ü–æ—Ä—Ç—ã**: `3000:3000`
**–†–µ—Å—É—Ä—Å—ã**: ~150MB RAM, 500MB –¥–∏—Å–∫

#### –î–∞—à–±–æ—Ä–¥—ã:
- **–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã** - –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, throughput, –æ—à–∏–±–∫–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∞—Ç–∞–∫–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –∞—É–¥–∏—Ç
- **–ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏** - –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```yaml
environment:
  GF_SECURITY_ADMIN_PASSWORD: admin123  # –ò–ó–ú–ï–ù–ò–¢–¨ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!
  GF_USERS_ALLOW_SIGN_UP: "false"      # –ó–∞–ø—Ä–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
volumes:
  - grafana_data:/var/lib/grafana
  - ./docker/grafana/provisioning:/etc/grafana/provisioning
```

#### –ê–ª–µ—Ä—Ç—ã:
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ** - —Å–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∞—Ç–∞–∫–∞, –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Å–∫–∞
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** - –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ** - –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f [service_name]

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö (–û–°–¢–û–†–û–ñ–ù–û!)
docker-compose down -v
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart postgres

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞
docker-compose pull postgres
docker-compose up -d postgres

# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è stateless —Å–µ—Ä–≤–∏—Å–æ–≤)
docker-compose up -d --scale backend=3
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
docker-compose exec postgres psql -U econom32_user -d econom32_new

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
docker system prune -a
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```yaml
# –ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
POSTGRES_PASSWORD: "STRONG_RANDOM_PASSWORD_HERE"
MINIO_ROOT_PASSWORD: "ANOTHER_STRONG_PASSWORD"
GF_SECURITY_ADMIN_PASSWORD: "GRAFANA_ADMIN_PASSWORD"

# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º
# –£–±—Ä–∞—Ç—å expose –ø–æ—Ä—Ç–æ–≤ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
# –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ 80, 443 –¥–ª—è Nginx
```

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```yaml
# –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è PostgreSQL
deploy:
  resources:
    limits:
      memory: 2G
      cpus: '2'

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
command: redis-server --maxmemory 512mb --maxmemory-policy allkeys-lru
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```yaml
# –î–æ–±–∞–≤–∏—Ç—å health checks
healthcheck:
  test: ["CMD", "pg_isready", "-U", "econom32_user"]
  interval: 30s
  timeout: 10s
  retries: 3
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
curl http://localhost:3002/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec postgres pg_isready

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
docker-compose exec redis redis-cli ping

# –ü—Ä–æ–≤–µ—Ä–∫–∞ MinIO
curl http://localhost:9000/minio/health/live
```

### –í–∞–∂–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **PostgreSQL**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, —Ä–∞–∑–º–µ—Ä –ë–î, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **Redis**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏, hit ratio, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π
- **MinIO**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤, throughput
- **ClamAV**: –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. ClamAV –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose up -d --scale clamav=0
docker run --rm -m 1g clamav/clamav:latest
```

### 2. PostgreSQL –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
echo "shared_preload_libraries = 'pg_stat_statements'" >> postgresql.conf
echo "max_connections = 200" >> postgresql.conf
```

### 3. MinIO –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ volume
sudo chown -R 1001:1001 ./minio_data
```

### 4. Prometheus –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
docker-compose exec prometheus promtool check config /etc/prometheus/prometheus.yml
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `docker-compose.override.yml` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –í–∫–ª—é—á–∏—Ç—å hot reload –¥–ª—è frontend/backend
- –û—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã (Prometheus, Grafana) –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker Swarm –∏–ª–∏ Kubernetes –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í–Ω–µ–¥—Ä–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (ELK Stack)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

## üöÄ –ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ

```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
scp -r ./econom32_v1 user@server:/opt/

# 2. –ù–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/econom32_v1

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É
./scripts/dev-setup.sh

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
tar -czf backup-$(date +%Y%m%d-%H%M).tar.gz data/

# –ë—ç–∫–∞–ø —Ç–æ–ª—å–∫–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec postgres pg_dump -U econom32_user econom32_new > backup-db.sql

# –ë—ç–∫–∞–ø —Ñ–∞–π–ª–æ–≤ MinIO
tar -czf backup-files.tar.gz data/minio/
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
tar -xzf backup-YYYYMMDD-HHMM.tar.gz

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# 4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
docker-compose exec -T postgres psql -U econom32_user econom32_new < backup-db.sql
```

### –ú–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏

```bash
# Development ‚Üí Staging
rsync -av --exclude='node_modules' ./econom32_v1/ staging:/opt/econom32_v1/

# Staging ‚Üí Production
rsync -av --exclude='data/postgres' ./econom32_v1/ production:/opt/econom32_v1/
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
du -sh data/*

# –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞
du -sh .

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ Docker
docker system prune -f
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é Makefile

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
make start

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
make clean && make start

# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
make backup

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs
```

---

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**: –î–∞–Ω–Ω–∞—è –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è Docker-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∞–π—Ç–∞ —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏. –ü—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ —Å Docker, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç–æ—Ç—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.